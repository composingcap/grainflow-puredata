#N canvas 827 239 1015 734 12;
#X obj 5 4 inlet~, f 13;
#X obj 88 111 inlet~, f 13;
#X obj 29 358 outlet~;
#X obj 413 340 outlet~;
#X obj 200 111 inlet~;
#X obj 326 111 r~ \$0-gclock;
#X obj 183 348 outlet~;
#X obj 303 348 outlet~;
#X obj 303 309 r~ \$0-gclock;
#X obj 183 309 r~ \$0-state;
#X obj 326 163 s~ \$0-state;
#X msg 136 42 \; \$1-\$2 \$3, f 12;
#N canvas 733 172 450 300 env 1;
#X obj 132 210 *~;
#X obj 132 244 tabread4~;
#N canvas 733 172 450 300 getsize 0;
#X obj 76 136 array size;
#X obj 76 34 inlet;
#X obj 76 175 outlet;
#X obj 76 80 t b s;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 146 176 pd getsize;
#X obj 266 74 r~ \$0-gclock;
#X obj 24 17 r \$0-env;
#X msg 24 157 set \$1;
#X obj 24 56 unpack s;
#X obj 132 315 s~ \$0-envelope;
#X obj 31 96 t s s;
#X obj 266 162 clip~ 0 1;
#X obj 266 126 *~;
#X obj 390 74 sig~ 1;
#X obj 458 74 _gf.stateparam \$0 space 1;
#X obj 390 110 -~;
#X obj 375 150 /~;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 0 1;
#X connect 3 0 10 0;
#X connect 4 0 6 0;
#X connect 5 0 1 0;
#X connect 6 0 8 0;
#X connect 8 0 5 0;
#X connect 8 1 2 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 11 0 13 0;
#X connect 11 0 14 0;
#X connect 12 0 13 1;
#X connect 13 0 14 1;
#X connect 14 0 10 1;
#X restore 443 111 pd env;
#N canvas 733 172 450 300 delay 0;
#X obj 46 87 *~;
#X obj 46 51 wrap~;
#X obj 100 112 r~ \$0-state;
#X obj 103 21 r \$0-buffer;
#X obj 46 283 s~ \$0-startsample;
#X obj 46 19 inlet~;
#X obj 46 235 +~;
#X obj 335 152 samplerate~;
#X obj 196 211 *~;
#X obj 196 178 /~ 1000;
#X obj 197 121 _gf.stateparam \$0 delay 1;
#X obj 197 152 *~ 1;
#X obj 46 148 samphold~;
#N canvas 733 172 450 300 getsize 0;
#X obj 76 136 array size;
#X obj 76 34 inlet;
#X obj 76 175 outlet;
#X obj 76 80 t b s;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 103 80 pd getsize;
#X obj 102 48 unpack s;
#X connect 0 0 12 0;
#X connect 1 0 0 0;
#X connect 2 0 12 1;
#X connect 3 0 14 0;
#X connect 5 0 1 0;
#X connect 6 0 4 0;
#X connect 7 0 8 1;
#X connect 8 0 6 1;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 10 1 7 0;
#X connect 11 0 9 0;
#X connect 12 0 6 0;
#X connect 13 0 0 1;
#X connect 14 0 13 0;
#X restore 88 144 pd delay;
#N canvas 733 172 450 300 transpose 0;
#X obj 64 173 expr~ pow(2 \, $v1/12);
#X obj 64 230 s~ \$0-transpose;
#X obj 64 38 inlet~;
#X obj 64 139 +~;
#X obj 75 98 _gf.stateparam \$0 transpose 0;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 3 1;
#X restore 200 144 pd transpose;
#N canvas 733 172 450 300 grain 0;
#X obj 166 337 *~;
#X obj 166 280 tabread4~, f 14;
#X obj 166 79 fexpr~ ($y1[-1]+$x1) * $x2;
#X obj 166 39 r~ \$0-transpose;
#X obj 324 2 r~ \$0-state;
#X obj 37 79 r \$0-buffer;
#X obj 292 107 r~ \$0-startsample;
#X obj 166 365 outlet~;
#X obj 453 99 - 2;
#X obj 451 18 r \$0-buffer;
#X obj 166 176 expr~ ($v1+$v2) % $f3;
#X obj 369 167 loadbang;
#X obj 369 199 1;
#X obj 37 119 unpack s;
#X msg 37 167 set \$1;
#X obj 177 311 r~ \$0-envelope;
#N canvas 733 172 450 300 getsize 0;
#X obj 76 136 array size;
#X obj 76 34 inlet;
#X obj 76 175 outlet;
#X obj 76 80 t b s;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 453 72 pd getsize;
#X obj 451 39 unpack s;
#X obj 312 49 -~;
#X obj 287 18 sig~ 1;
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 2 0;
#X connect 4 0 18 1;
#X connect 5 0 13 0;
#X connect 6 0 10 1;
#X connect 8 0 10 2;
#X connect 9 0 17 0;
#X connect 10 0 1 0;
#X connect 11 0 12 0;
#X connect 12 0 10 2;
#X connect 13 0 14 0;
#X connect 14 0 1 0;
#X connect 15 0 0 1;
#X connect 16 0 8 0;
#X connect 17 0 16 0;
#X connect 18 0 2 1;
#X connect 19 0 18 0;
#X restore 29 309 pd grain;
#N canvas 733 172 450 300 clock 0;
#X obj 5 249 s~ \$0-gclock;
#X obj 5 4 inlet~;
#X obj 159 90 loadbang;
#X obj 159 124 \$2;
#X obj 73 113 \$1;
#X obj 73 78 loadbang;
#X obj 5 156 expr~ ($v1 + $f2/$f3);
#X obj 5 193 wrap~;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 6 2;
#X connect 4 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X restore 5 42 pd clock;
#X obj 326 135 expr~ $v1 < 0.01;
#X obj 136 10 list prepend \$0;
#X obj 413 275 r~ \$0-envelope;
#X connect 0 0 16 0;
#X connect 0 1 18 0;
#X connect 1 0 13 0;
#X connect 4 0 14 0;
#X connect 5 0 17 0;
#X connect 8 0 7 0;
#X connect 9 0 6 0;
#X connect 15 0 2 0;
#X connect 17 0 10 0;
#X connect 18 0 11 0;
#X connect 19 0 3 0;

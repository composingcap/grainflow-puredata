#N canvas 827 239 1015 734 12;
#X obj 5 4 inlet~, f 13;
#X obj 201 14 inlet~, f 13;
#X obj 29 399 outlet~;
#X obj 442 386 outlet~;
#X obj 313 14 inlet~;
#X obj 29 196 r~ \$0-gclock;
#X obj 124 378 outlet~;
#X obj 244 378 outlet~;
#X obj 244 339 r~ \$0-gclock;
#X obj 124 339 r~ \$0-state;
#X obj 29 266 s~ \$0-state;
#X msg 83 61 \; \$1-\$2 \$3, f 12;
#N canvas 733 172 450 300 env 0;
#X obj 132 210 *~;
#X obj 132 244 tabread4~;
#N canvas 733 172 450 300 getsize 0;
#X obj 76 136 array size;
#X obj 76 34 inlet;
#X obj 76 175 outlet;
#X obj 76 80 t b s;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 146 176 pd getsize;
#X obj 266 74 r~ \$0-gclock;
#X obj 24 17 r \$0-env;
#X msg 24 157 set \$1;
#X obj 24 56 unpack s;
#X obj 132 315 s~ \$0-envelope;
#X obj 31 96 t s s;
#X obj 266 162 clip~ 0 1;
#X obj 266 126 *~;
#X obj 390 74 sig~ 1;
#X obj 458 74 _gf.stateparam \$0 space 1;
#X obj 390 110 -~;
#X obj 375 150 /~;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 0 1;
#X connect 3 0 10 0;
#X connect 4 0 6 0;
#X connect 5 0 1 0;
#X connect 6 0 8 0;
#X connect 8 0 5 0;
#X connect 8 1 2 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 11 0 13 0;
#X connect 11 0 14 0;
#X connect 12 0 13 1;
#X connect 13 0 14 1;
#X connect 14 0 10 1;
#X restore 146 196 pd env;
#N canvas 733 172 450 300 delay 0;
#X obj 46 87 *~;
#X obj 46 51 wrap~;
#X obj 100 112 r~ \$0-state;
#X obj 103 21 r \$0-buffer;
#X obj 46 283 s~ \$0-startsample;
#X obj 46 19 inlet~;
#X obj 46 235 +~;
#X obj 335 152 samplerate~;
#X obj 196 211 *~;
#X obj 196 178 /~ 1000;
#X obj 197 121 _gf.stateparam \$0 delay 1;
#X obj 197 152 *~ 1;
#X obj 46 148 samphold~;
#N canvas 733 172 450 300 getsize 0;
#X obj 76 136 array size;
#X obj 76 34 inlet;
#X obj 76 175 outlet;
#X obj 76 80 t b s;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 103 80 pd getsize;
#X obj 102 48 unpack s;
#X connect 0 0 12 0;
#X connect 1 0 0 0;
#X connect 2 0 12 1;
#X connect 3 0 14 0;
#X connect 5 0 1 0;
#X connect 6 0 4 0;
#X connect 7 0 8 1;
#X connect 8 0 6 1;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 10 1 7 0;
#X connect 11 0 9 0;
#X connect 12 0 6 0;
#X connect 13 0 0 1;
#X connect 14 0 13 0;
#X restore 201 47 pd delay;
#N canvas 733 172 450 300 transpose 0;
#X obj 64 173 expr~ pow(2 \, $v1/12);
#X obj 64 230 s~ \$0-transpose;
#X obj 64 38 inlet~;
#X obj 64 139 +~;
#X obj 75 98 _gf.stateparam \$0 transpose 0;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 3 1;
#X restore 313 47 pd transpose;
#N canvas 733 172 450 300 grain 0;
#X obj 166 337 *~;
#X obj 166 280 tabread4~, f 14;
#X obj 166 79 fexpr~ ($y1[-1]+$x1) * $x2;
#X obj 166 39 r~ \$0-transpose;
#X obj 324 2 r~ \$0-state;
#X obj 37 79 r \$0-buffer;
#X obj 292 107 r~ \$0-startsample;
#X obj 166 469 outlet~;
#X obj 453 119 - 2;
#X obj 451 18 r \$0-buffer;
#X obj 166 176 expr~ ($v1+$v2) % $f3;
#X obj 369 167 loadbang;
#X obj 369 199 1;
#X obj 37 119 unpack s;
#X msg 37 167 set \$1;
#X obj 177 311 r~ \$0-envelope;
#N canvas 733 172 450 300 getsize 0;
#X obj 76 136 array size;
#X obj 76 34 inlet;
#X obj 76 175 outlet;
#X obj 76 80 t b s;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 453 72 pd getsize;
#X obj 451 39 unpack s;
#X obj 312 49 -~;
#X obj 287 18 sig~ 1;
#X obj 166 388 *~;
#X obj 435 316 r~ \$0-state;
#X obj 376 361 samphold~;
#X obj 513 251 r \$0-density;
#X obj 376 251 noise~;
#X obj 376 288 expr~ ($v1+1)*0.5 <= $f2;
#X obj 623 251 loadbang;
#X obj 623 280 1;
#X obj 166 434 *~;
#X obj 260 414 r~ \$0-setamp;
#X obj 562 423 s~ \$0-posnorm;
#X obj 562 388 /~;
#X connect 0 0 20 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 2 0;
#X connect 4 0 18 1;
#X connect 5 0 13 0;
#X connect 6 0 10 1;
#X connect 8 0 10 2;
#X connect 8 0 31 1;
#X connect 9 0 17 0;
#X connect 10 0 1 0;
#X connect 10 0 31 0;
#X connect 11 0 12 0;
#X connect 12 0 10 2;
#X connect 13 0 14 0;
#X connect 14 0 1 0;
#X connect 15 0 0 1;
#X connect 16 0 8 0;
#X connect 17 0 16 0;
#X connect 18 0 2 1;
#X connect 19 0 18 0;
#X connect 20 0 28 0;
#X connect 21 0 22 1;
#X connect 22 0 20 1;
#X connect 23 0 25 1;
#X connect 24 0 25 0;
#X connect 25 0 22 0;
#X connect 26 0 27 0;
#X connect 27 0 25 1;
#X connect 28 0 7 0;
#X connect 29 0 28 1;
#X connect 31 0 30 0;
#X restore 29 339 pd grain;
#N canvas 733 172 450 300 clock 0;
#X obj 5 273 s~ \$0-gclock;
#X obj 5 4 inlet~;
#X obj 183 32 loadbang;
#X obj 183 66 \$2;
#X obj 95 67 \$1;
#X obj 95 32 loadbang;
#X obj 5 217 wrap~;
#X obj 511 66 r \$0-windowOffset;
#X obj 5 180 expr~ ($v1 + $f2);
#X obj 95 99 expr $f1/$f2;
#X obj 608 174 sel auto;
#X obj 511 158 expr $f1*$f2;
#X obj 511 92 route float;
#X obj 608 147 unpack s;
#X obj 131 137 f;
#X obj 603 214 t b;
#X obj 284 32 r \$0-ngrains;
#X obj 284 58 t b f;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 9 1;
#X connect 4 0 9 0;
#X connect 4 0 11 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 12 0;
#X connect 8 0 6 0;
#X connect 9 0 14 0;
#X connect 10 0 15 0;
#X connect 11 0 8 1;
#X connect 12 0 11 0;
#X connect 12 1 13 0;
#X connect 13 0 10 0;
#X connect 14 0 8 1;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 4 0;
#X connect 17 1 3 0;
#X restore 5 42 pd clock;
#X obj 29 220 expr~ $v1 < 0.01;
#X obj 83 29 list prepend \$0;
#X obj 442 347 r~ \$0-envelope;
#X obj 553 425 switch~;
#X obj 550 243 r \$0-ngrains;
#X obj 565 339 \$1;
#X obj 568 304 t b f;
#X obj 659 243 loadbang;
#X obj 659 281 \$2;
#X obj 442 14 inlet~;
#N canvas 733 172 450 300 amp 0;
#X obj 42 161 -~;
#X obj 33 86 sig~ 1;
#X obj 44 300 s~ \$0-setamp;
#X obj 91 86 inlet~;
#X obj 192 97 _gf.stateparam \$0 amp 2 1;
#X obj 44 207 *~;
#X obj 44 256 clip~ 0 1;
#X connect 0 0 5 0;
#X connect 1 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 442 47 pd amp;
#X obj 351 388 outlet~;
#X obj 351 349 r~ \$0-posnorm;
#X obj 565 380 <;
#X connect 0 0 16 0;
#X connect 0 1 18 0;
#X connect 1 0 13 0;
#X connect 4 0 14 0;
#X connect 5 0 17 0;
#X connect 8 0 7 0;
#X connect 9 0 6 0;
#X connect 15 0 2 0;
#X connect 17 0 10 0;
#X connect 18 0 11 0;
#X connect 19 0 3 0;
#X connect 21 0 23 0;
#X connect 22 0 30 0;
#X connect 23 0 22 0;
#X connect 23 1 30 1;
#X connect 24 0 25 0;
#X connect 25 0 23 0;
#X connect 26 0 27 0;
#X connect 29 0 28 0;
#X connect 30 0 20 0;
